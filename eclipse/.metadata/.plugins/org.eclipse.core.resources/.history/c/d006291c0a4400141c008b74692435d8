package com.example.examplemod.gui;

import java.util.LinkedList;

import net.minecraft.client.Minecraft;
import net.minecraft.client.gui.FontRenderer;
import net.minecraft.client.gui.GuiButton;
import net.minecraft.client.gui.GuiScreen;
import net.minecraft.client.renderer.texture.ITextureObject;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.util.ResourceLocation;

import org.lwjgl.opengl.GL11;

//public class SkillGui extends GuiScreen
public class SkillGui extends GuiScreen
{
	public SkillGui(EntityPlayer player)
	{
		super();
		initGui();
	}
	
	public final int xSizeOfTexture = 350;
	public final int ySizeOfTexture = 200;
	public FontRenderer frender = Minecraft.getMinecraft().fontRenderer;
	public int posX=0, posY=0;
	int state=0;
	private LinkedList controlList = new LinkedList();
	
	@Override
	public void drawScreen(int x, int y, float f)
	{
		drawDefaultBackground();
		ResourceLocation imgloc = new ResourceLocation("modnamex:textures/skillgui.png");
		//ITextureObject var4 = this.mc.renderEngine.getTexture(imgloc);
		//GL11.glColor4f(1.0F, 1.0F, 1.0F, 1.0F);
		this.mc.renderEngine.bindTexture(imgloc);

		posX = (this.width - xSizeOfTexture) / 2;
		posY = (this.height - ySizeOfTexture) / 2;
		drawTexturedModalRect(posX, posY, 0, 0, xSizeOfTexture, ySizeOfTexture);
		
		drawContent(state);

		super.drawScreen(x, y, f);
	}
	
	public void drawContent(int idState){
		// draws tables of magic, ect
		FontRenderer frender = Minecraft.getMinecraft().fontRenderer;
		int posX = (this.width - xSizeOfTexture) / 2;
		int posY = (this.height - ySizeOfTexture) / 2;
		switch(idState){
		case 0:		// melee table
			MeleeGui();
			break;
		case 1:		// ranged table
			RangedGui();		
			break;
		case 2:		// magic table
			MagicGui();
			break;
		case 3:		// technical table
			TechnicalGui();
			break;
		case 4:		// passive table
			PassiveGui();
			break;
		}
	}
	
	public void initGui()
	{
		this.controlList.clear();
	
		int posx = (this.width - xSizeOfTexture) / 2;
		int posy = (this.height - ySizeOfTexture) / 2;
		
		this.buttonList.add(new GuiButton(0, posx+5, posy+5, 50, 20, "Melee"));
		this.buttonList.add(new GuiButton(1, posx+5+50, posy+5, 55, 20, "Ranged"));
		this.buttonList.add(new GuiButton(2, posx+55+54, posy+5, 50, 20, "Magic"));
		this.buttonList.add(new GuiButton(3, posx+109+50, posy+5, 60, 20, "Technical"));
		this.buttonList.add(new GuiButton(4, posx+159+60, posy+5, 60, 20, "Passive"));
		GL11.glScaled(0.7f, 0.7f, 0.7f); // scale the button gui
	}
	
	// Button actions
	public void actionPerformed(GuiButton button)
	{
		if(button.id < 5){
			state=button.id;
		}else{
			switch(button.id)
			{
			default:
				break;
			}
		}
	}
	
	public void MeleeGui(){
		//frender.drawString("Melee tree", posX+xSizeOfTexture/2, posY+40, 10);
		GL11.glColor4f(1.0F, 1.0F, 1.0F, 1.0F);
		ResourceLocation imgloc = new ResourceLocation("modnamex:textures/magicA.png");
		this.mc.renderEngine.bindTexture(imgloc);
		GL11.glEnable(GL11.GL_BLEND);
        //GL11.glBindTexture(GL11.GL_TEXTURE_2D, mc.renderEngine.getTexture("/hexa/leftbar.png"));
		drawTexturedModalRect(posX+xSizeOfTexture/2-32/2, posY+40, 2, 2, 32, 32);
		GL11
		GL11.glDisable(GL11.GL_BLEND);
	}
	
	public void RangedGui(){
		frender.drawString("Ranged tree", posX+2, posY+40, 10);
	}
	
	public void MagicGui(){
		frender.drawString("Magic tree", posX+2, posY+40, 10);
	}
	
	public void TechnicalGui(){
		frender.drawString("Technical tree", posX+2, posY+40, 10);
	}
	
	public void PassiveGui(){
		frender.drawString("Passive tree", posX+2, posY+40, 10);
	}
}
